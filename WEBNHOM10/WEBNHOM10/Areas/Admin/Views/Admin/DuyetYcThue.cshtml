@model WEBNHOM10.Models.HopDong
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "DuyetYcThue";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}


<h2>Duyệt yêu cầu thuê phòng của sinh viên</h2>

<p><b>Thông tin sinh viên:</b></p>
<p><b>Mã sinh viên:</b> @ViewBag.sv.MaSinhVien</p>
<p><b>Họ tên:</b> @ViewBag.sv.TenSinhVien</p>
<p><b>Lớp:</b> @ViewBag.sv.MaLopNavigation.TenLop</p>
<p><b>Phòng:</b> @ViewBag.sv.MaPhongNavigation.TenPhong</p>
<p><b>Ngày sinh:</b> @ViewBag.sv.NgaySinh.ToString("dd/MM/yyyy")</p>

<hr />

@using (Html.BeginForm("DuyetYcThue", "Admin", new { maSV = ViewBag.sv.MaSinhVien }, FormMethod.Post))
{
    <div class="form-group">
        <label for="NgayKi">Ngày bắt đầu thuê:</label>
        <input type="date" class="form-control" name="NgayKi" value="@DateTime.Now.ToString("yyyy-MM-dd")" required />
    </div>
    <div class="form-group">
        <label for="NgayHetHan">Ngày kết thúc thuê:</label>
        <input type="date" class="form-control" name="NgayHetHan" required />
    </div>
    <div class="form-group">
        <label for="GiaThue">Giá thuê:</label>
        <input type="number" class="form-control" name="GiaThue" value="@ViewBag.sv.MaPhongNavigation.GiaPhong" readonly />
    </div>
    <div class="form-group">
        <label for="MaPhong">Mã phòng:</label>
        <input type="text" class="form-control" name="MaPhong" value="@ViewBag.sv.MaPhongNavigation.TenPhong" readonly />
    </div>
    <div class="form-group">
        <label for="GhiChu">Ghi chú:</label>
        <textarea class="form-control" id="GhiChu" name="GhiChu"></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Tạo hợp đồng</button>
}

@if (ViewData.ModelState.IsValid == false)
{
    <div class="alert alert-danger">
        <ul>
            @foreach (var error in ViewData.ModelState.Values.SelectMany(x => x.Errors))
            {
                <li>@error.ErrorMessage</li>
            }
        </ul>
    </div>
}
@*<div class="heading_container heading_center">
    <h2>Duyệt yêu cầu thuê</h2>
    <div class="container">
        <div class="row" style="text-align:left">
            <div class="col-md-6">
                <p><strong>Mã sinh viên:</strong>@Model.MaSinhVien</p>
                <p><strong>Họ tên:</strong> @Model.TenSinhVien</p>
                <p><strong>Ngày sinh:</strong> @Model.NgaySinh</p>
                <p><strong>Lớp:</strong> @Model.MaLopNavigation.TenLop</p>
                <p><strong>Quê quán:</strong> @Model.MaQueNavigation.TenQue</p>
                <p><strong>Phòng muốn thuê:</strong> @Model.MaPhongNavigation.TenPhong</p>
            </div>
            <div class="col-md-6">
                <h3>Thêm hợp đồng mới</h3>
                @TempData["DuyetYC"]
                <form method="post" asp-action="DuyetYcThue">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <input type="hidden" name="MaSV" value="@Model.MaSinhVien" />

                    <div class="form-group">
                        <label for="ngayBatDau">Ngày bắt đầu:</label>
                        <input type="date" class="form-control" id="ngayBatDau" name="NgayBatDau" required />
                    </div>

                    <div class="form-group">
                        <label for="ngayKetThuc">Ngày kết thúc:</label>
                        <input type="date" class="form-control" id="ngayKetThuc" name="NgayKetThuc" required />
                    </div>

                    <div class="form-group">
                        <label for="giaThue">Giá thuê: @Model.MaPhongNavigation.GiaPhong</label>
                        <input type="hidden" class="form-control" id="giaThue" name="GiaThue" value="@Model.MaPhongNavigation.GiaPhong" required />
                    </div>

                    <div class="form-group">
                        <label for="ghiChu">Ghi chú:</label>
                        <textarea class="form-control" id="ghiChu" name="GhiChu"></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">Thêm hợp đồng</button>
                </form>
            </div>
        </div>mm
    </div>
</div>

*@